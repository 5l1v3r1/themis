<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Soter cryptostack - Themis 0.9</title>

        <link href="../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../index.html">Themis 0.9</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../index.html">Introduction</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">How to use <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../2.-How-to-use-Themis/index.html">Intro</a>
                        </li>
                    
                        <li >
                            <a href="../2.1-Building-and-installing/index.html">Building and installing</a>
                        </li>
                    
                        <li >
                            <a href="../2.2-Objects-reference/index.html">Objects reference</a>
                        </li>
                    
                        <li >
                            <a href="../2.3-Key-management/index.html">Key management advice</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Language reference <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../2.4-Language-reference/index.html">Intro</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.1-Python-Howto/index.html">Python</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.2-PHP-Howto/index.html">PHP</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.3-Ruby-Howto/index.html">Ruby</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.4-Objective-C-Howto/index.html">Objective C</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.5-Java---Android/index.html">Java/Android</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../3.-FAQ/index.html">FAQ</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Fundamentals <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../4.1-General-design-principles/index.html">General design principles</a>
                        </li>
                    
                        <li >
                            <a href="../4.2-Architecture/index.html">Architecture</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Soter cryptostack</a>
                        </li>
                    
                        <li >
                            <a href="../4.4-Cryptosystems/index.html">Cryptosystems</a>
                        </li>
                    
                        <li >
                            <a href="../4.4.1-Secure-message/index.html">Secure Message</a>
                        </li>
                    
                        <li >
                            <a href="../4.4.2-Secure-Session/index.html">Secure Session</a>
                        </li>
                    
                        <li >
                            <a href="../4.4.3-Secure-Cell/index.html">Secure Cell</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../5.-Contributing-to-Themis/index.html">Intro</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing  <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../5.1-Development-status/index.html">Development roadmap</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../5.2-Getting-started-with-development/index.html">Getting started with development</a>
                        </li>
                    
                        <li >
                            <a href="../5.3-Directory-structure/index.html">Directory structure</a>
                        </li>
                    
                        <li >
                            <a href="../5.4-Implementation-details/index.html">Some implementation details</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
           <ul class="nav navbar-nav navbar-right">

                
                <li>
                    <a href="https://github.com/cossacklabs/themis/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#soter-cryptostack">Soter cryptostack</a></li>
        
            <li><a href="#choices-for-cryptographic-algorithms">Choices for cryptographic algorithms</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="soter-cryptostack">Soter cryptostack</h1>
<p><strong>Soter</strong> is a cross-platform multipurpose cryptographic library serving Themis as it's backbone. It provides a set of highly secure cryptographic primitives through a well-defined, consistent and simple interface. Some features are:
<em> necessary cryptographic primitives for building robust secure solutions with high security level
</em> intuitive, well-defined interface to cryptographic functions
<em> compile-time support for different (interchangeable) underlying (donor) cryptographic implementations (libraries and platform-specific functions)
</em> object-oriented design</p>
<p>Soter does not provide all possible cryptoalgorithms out there. Instead we tried to select the best ones for our cryptosystems (and future features) and provide a simple way to use them even for an inexperienced user. Also, we tried to provide the freedom in choosing underlying cryptographic implementation for each of them. The code is cleanly split into generic part and implementation-(and/or platform-) specific part, so moving the library to different crypto implementation is very easy. Every function can be re-implemented using different cryptographic libraries and compile-time switches are used to select appropriate source files to compile. Thus, every instance of soter library can be tweaked to support any platform-preferred implementation of the algorithms while still providing consistent interface to its users.</p>
<p>Currently, we're using LibreSSL / OpenSSL's libcrypto, but plan to replace it in next releases.</p>
<p><img alt="" src="../images/soter.png" /></p>
<p>While selecting necessary cryptographic building blocks for our solutions we had following concepts in mind:</p>
<ul>
<li>all basic cryptographic operations should be supported (symmetric cryptography, key agreement, digital signatures, data integrity and authentication)</li>
<li>all algorithms should be open and well established (undergone significant industry review)</li>
<li>algorithms should use/support latest "state-of-the art" achievements and techniques in information protection</li>
<li>cryptographic modes of operation should be as most transparent as possible for user and impose little additional overhead</li>
<li>combination of such primitives should allow information protection with high security level</li>
</ul>
<h2 id="choices-for-cryptographic-algorithms">Choices for cryptographic algorithms</h2>
<p><strong>Symmetric encryption</strong></p>
<p>We prefer Advanced Encryption Standard (AES) as our main symmetric encryption algorithm. This algorithm is rather simple, fast and proven to be secure. Also, many platforms currently have hardware support for AES, so our solutions can get additional performance improvement on such platforms. </p>
<p>We are considering ChaCha as another future choice for our solutions as well.</p>
<p><em>Encryption modes</em></p>
<p>We prefer using Galois Counter Mode (GCM) as our main cryptographic mode of operation for AES. GCM is a relatively new concept in symmetric cryptography and is a variant of "authenticated encryption" - a mode, which combines information confidentiality, integrity and authentication in one pass. When information is being decrypted, it's integrity and authenticity is verified at the same time. This is not only faster and more convenient, but generally considered more secure as well than just applying encryption and message authentication code separately. Also, key management is easier, since one key is used for encryption and data authentication.</p>
<p>Since GCM mode requires adding (storing, passing) additional message authentication code (MAC), in the end, the size of protected information increases. This behavior may not be desirable or even acceptable for some use-cases, so for such scenarios we use counter mode (CTR) instead. Counter mode does not require original information to be padded and has additional properties that allow implementations to parallel computations of ciphertext. While counter mode does not provide information integrity and authentication functionality, it still ensures high level of confidentiality while having less strict requirements to cryptographic parameters compared to other modes (like CBC).</p>
<p><strong>Digital signatures</strong></p>
<p>We prefer Elliptic Curve Digital Signature Algorithm (ECDSA) as our main digital signature scheme. Elliptic curve-based cryptosystems usually provide higher security levels with smaller keys. As for now, there are no efficient algorithms to break elliptic curve keys out there in public. Also, since keys are much smaller, they are easier to generate and store. The overall computational load is reduced as well.</p>
<p>We also support RSA mainly to provide some level of compability with already established solutions. However, this is a safe "back-up" only.</p>
<p><strong>Key agreement</strong></p>
<p>We prefer Elliptic Curve Diffie–Hellman (ECDH) as our key agreement scheme. Some of the reasons are similar to ECDSA: elliptic curve-based cryptosystems are just better than their "plain" counterparts. Also, much of the elliptic curve implementation is reused (if same or similar cryptographic parameters are used), so most of the code is shared between ECDH and ECDSA.</p>
<p>Diffie-Hellman as well as ECDH are susceptible to man-in-the-middle-attack (MiTM), so we usually combine its usage with strong authentication in our solutions (mostly ECDSA digital signatures) to mitigate such attacks.</p>
<p><strong>Asymmetric encryption</strong></p>
<p>While Soter supports RSA asymmetric encryption we recommend (and prefer to use in our modules) elliptic curve-based cryptosystems. However, there are no direct well-established asymmetric encryption schemes in ECC-based domain. But a simple combination of ECDSA+ECDH can be used to provide similar functionality in two steps:</p>
<ol>
<li>
<p>Use peer's public ECDH key and own private ECDH key to compute a shared secret (which will be used to encrypt the message as in RSA encryption).</p>
</li>
<li>
<p>Send own signed ECDH public key to the peer, so he/she can compute the same shared secret and decrypt the message.</p>
</li>
</ol>
<p>This approach even has advantage over RSA encryption: ECDH keys may be random and used only once, which provides perfect forward secrecy (PFS) to overall communication.</p>
<p><strong>Data integrity and authentication</strong></p>
<p>We use SHA-family of algorithms to check data integrity in our solutions. They have been out for a while in public and so far no significant attacks were developed. We prefer using SHA-2 in our schemes (SHA-256 or SHA-512) keeping SHA-1 for compability only.</p>
<p>For data authentication we use GCM mode were applicable (usually combined with encryption). In other cases we use hash-based message authentication code (HMAC). Security level of HMAC mostly depends on security level of underlying hash functions, so in our implementation it is high, since we mostly use SHA-2. Every supported hash function can be used in HMAC as well.</p></div>
        </div>

	<footer class="col-md-12">
		<hr>
		
		<p>(c) 2015 Cossack Labs Limited</p>
		
		<p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
	</footer>


        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
    </body>
</html>