<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Secure Session - Themis 0.9</title>

        <link href="../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../index.html">Themis 0.9</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../index.html">Introduction</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">How to use <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../2.-How-to-use-Themis/index.html">Intro</a>
                        </li>
                    
                        <li >
                            <a href="../2.1-Building-and-installing/index.html">Building and installing</a>
                        </li>
                    
                        <li >
                            <a href="../2.2-Objects-reference/index.html">Objects reference</a>
                        </li>
                    
                        <li >
                            <a href="../2.3-Key-management/index.html">Key management advice</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Language reference <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../2.4-Language-reference/index.html">Intro</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.1-Python-Howto/index.html">Python</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.2-PHP-Howto/index.html">PHP</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.3-Ruby-Howto/index.html">Ruby</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.4-Objective-C-Howto/index.html">Objective C</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.5-Java---Android/index.html">Java/Android</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../3.-FAQ/index.html">FAQ</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Fundamentals <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../4.1-General-design-principles/index.html">General design principles</a>
                        </li>
                    
                        <li >
                            <a href="../4.2-Architecture/index.html">Architecture</a>
                        </li>
                    
                        <li >
                            <a href="../4.3-Soter-cryptostack/index.html">Soter cryptostack</a>
                        </li>
                    
                        <li >
                            <a href="../4.4-Cryptosystems/index.html">Cryptosystems</a>
                        </li>
                    
                        <li >
                            <a href="../4.4.1-Secure-message/index.html">Secure Message</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Secure Session</a>
                        </li>
                    
                        <li >
                            <a href="../4.4.3-Secure-Cell/index.html">Secure Cell</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../5.-Contributing-to-Themis/index.html">Intro</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing  <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../5.1-Development-status/index.html">Development roadmap</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../5.2-Getting-started-with-development/index.html">Getting started with development</a>
                        </li>
                    
                        <li >
                            <a href="../5.3-Directory-structure/index.html">Directory structure</a>
                        </li>
                    
                        <li >
                            <a href="../5.4-Implementation-details/index.html">Some implementation details</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
           <ul class="nav navbar-nav navbar-right">

                
                <li>
                    <a href="https://github.com/cossacklabs/themis/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#secure-session">Secure session</a></li>
        
            <li><a href="#integration-scenarios">Integration scenarios</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="secure-session">Secure session</h1>
<p><strong>Secure session</strong> is a lightweight mechanism to secure any network communications (both private and public networks including Internet). It is protocol agnostic and operates on the 5th layer of the network OSI model. Some features:
<em> secure end-to-end communication
</em> perfect forward secrecy
<em> strong mutual peer authentication
</em> replay protection
<em> low negotiation round-trip
</em> uses strong cryptography (including ECC)
<em> lightweight, easy to use
</em> easy to integrate into existing applications</p>
<p>Communications over secure session contains 2 stages: negotiation (key agreement) stage and actual data exchange.</p>
<p><strong>Negotiation stage</strong></p>
<p>During negotiation stage peers exchange their cryptographic material and authenticate each other. After successful mutual authentication each peer derives session shared secret and other session auxiliary info (session id, initial vectors etc).</p>
<blockquote>
<p>NOTE: session id is random and derived from negotiated cryptographic material by each peer independently. There is no way specific value can be enforced by one of the peers.</p>
</blockquote>
<p><img alt="" src="../images/secure_session_negotiation.png" /></p>
<p><strong>Data exchange stage</strong></p>
<p>During data exchange stage peers securely exchange data which is provided by higher layer protocols. Session parameters (state) can be saved and restored in any time, so the lifetime of the session expand the underlying environment's powercycle.</p>
<blockquote>
<p>WARNING: session state contains sensitive information and should be stored and handled in a secure manner. For example, <a href="../4.4.3-Secure-Cell/index.html">Secure cell</a> may be used.</p>
</blockquote>
<p>Here is how data is protected within the session:</p>
<p><img alt="" src="../images/secure_session_message.png" /></p>
<h2 id="integration-scenarios">Integration scenarios</h2>
<p>Secure session only provides security services and does not do actual network communication. In fact, it is decoupled and independent from any networking implementation. So it's callers responsibility to provide actual network transport for it to use. For easy integration and use there are two types of API available: <em>callback API</em> and <em>buffer-aware API</em>.</p>
<p><strong>Callback API</strong></p>
<p>The easiest way to quickly leverage secure session in your solution is to implement a set of simple callback methods and register them within secure session framework. These callbacks are a little more than just simple send/receive methods, but this is the interface which will bind generic secure session communication with your actual networking implementation.</p>
<p><img alt="" src="../images/secure_session_callback_api.png" /></p>
<p><strong>Buffer-aware API</strong>
This type of API is useful when integrating secure session in an application with sophisticated established network processing path. So it is more convenient to just add some calls to secure session somewhere in this path. These calls will operate on client-provided buffers rather than using callbacks.</p>
<p><img alt="" src="../images/secure_session_buffer_aware_api.png" /></p>
<p><strong>Complex scenarios</strong></p>
<p>With some care in mind it is possible to mix these APIs together and use them simultaneously when neither of the above simple cases is applicable to a specific solution. For example,
<em> use buffer-aware API for receiving data, but callback API for sending data
</em> use callback API in negotiation stage, buffer-aware API in data exchange stage
<em> switch from callback API to buffer-aware API and back in run-time based on some conditions
</em> etc</p>
<blockquote>
<p>WARNING: invoking any secure session API on same secure session context should be <strong>synchronized</strong> with respect to that context.</p>
</blockquote></div>
        </div>

	<footer class="col-md-12">
		<hr>
		
		<p>(c) 2015 Cossack Labs Limited</p>
		
		<p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
	</footer>


        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
    </body>
</html>