<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Building and installing - Themis 0.9</title>

        <link href="../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="..">Themis 0.9</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="..">Introduction</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">How to use <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../2.-How-to-use-Themis/">Intro</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Building and installing</a>
                        </li>
                    
                        <li >
                            <a href="../2.2-Objects-reference/">Objects reference</a>
                        </li>
                    
                        <li >
                            <a href="../2.3-Key-management/">Key management advice</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Language reference <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../2.4-Language-reference/">Intro</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.1-Python-Howto/">Python</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.2-PHP-Howto/">PHP</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.3-Ruby-Howto/">Ruby</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.4-Objective-C-Howto/">Objective C</a>
                        </li>
                    
                        <li >
                            <a href="../2.4.5-Java---Android/">Java/Android</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../3.-FAQ/">FAQ</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Fundamentals <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../4.1-General-design-principles/">General design principles</a>
                        </li>
                    
                        <li >
                            <a href="../4.2-Architecture/">Architecture</a>
                        </li>
                    
                        <li >
                            <a href="../4.3-Soter-cryptostack/">Soter cryptostack</a>
                        </li>
                    
                        <li >
                            <a href="../4.4-Cryptosystems/">Cryptosystems</a>
                        </li>
                    
                        <li >
                            <a href="../4.4.1-Secure-message/">Secure Message</a>
                        </li>
                    
                        <li >
                            <a href="../4.4.2-Secure-Session/">Secure Session</a>
                        </li>
                    
                        <li >
                            <a href="../4.4.3-Secure-Cell/">Secure Cell</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../5.-Contributing-to-Themis/">Intro</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing  <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../5.1-Development-status/">Development roadmap</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../5.2-Getting-started-with-development/">Getting started with development</a>
                        </li>
                    
                        <li >
                            <a href="../5.3-Directory-structure/">Directory structure</a>
                        </li>
                    
                        <li >
                            <a href="../5.4-Implementation-details/">Some implementation details</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
           <ul class="nav navbar-nav navbar-right">

                
                <li>
                    <a href="https://github.com/cossacklabs/themis/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#building-and-installing">Building and Installing</a></li>
        
            <li><a href="#makefile-parameters">Makefile parameters</a></li>
        
            <li><a href="#libressl-openssl">LibreSSL / OpenSSL</a></li>
        
            <li><a href="#custom-destinations">Custom destinations</a></li>
        
            <li><a href="#directory-structure">Directory Structure</a></li>
        
            <li><a href="#installing-themis-wrappers">Installing Themis wrappers</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="building-and-installing">Building and Installing</h1>
<p>First, download latest Themis version</p>
<pre><code>git fetch https://github.com/cossacklabs/themis.wiki.git
</code></pre>
<p>In most cases, going to Themis source directory and typing</p>
<pre><code>make install
</code></pre>
<p>should work for you.</p>
<h3 id="makefile-parameters">Makefile parameters</h3>
<p>Themis comes with a makefile, which should serve you in most cases well. There is not enough specific interaction to do a ./configure scenario. Everything comes prepared in advance!</p>
<p>Makefile includes targets:
- themis_shared: build only shared themis library
- themis_static: build only static themis library
- test_all: build test for themis
- all: build both - shared and static themis libraries
- install: build and install necessary headers and libraries in system.</p>
<p>The default makefile is configured to build both static and shared libraries. Libraries build in release mode by default. To build THEMIS in debug mode with debug symbols on make stage you need to set variable DEBUG:</p>
<pre><code>make DEBUG=yes
</code></pre>
<h3 id="libressl-openssl">LibreSSL / OpenSSL</h3>
<p>Themis uses LibreSSL/OpenSSL engine libcrypto as a dependency right now. In future, we plan to broaden the support of different crypto implementation libraries (and, in some rare cases, provide our own).</p>
<p>You need to install both engine and it's development header files. By default, Themis will build with system default libcrypto. If you need to use custom one, set two parameters: </p>
<ul>
<li>CRYPTO_ENGINE_INCLUDE_PATH: headers of LibreSSL/OpenSSL</li>
<li>CRYPTO_ENGINE_LIB_PATH compiled libcrypto from LibreSSL/OpenSSL</li>
</ul>
<p>You can do this via:</p>
<pre><code>make CRYPTO_ENGINE_INCLUDE_PATH=/opt/include CRYPTO_ENGINE_LIB_PATH=/opt/lib
</code></pre>
<h3 id="custom-destinations">Custom destinations</h3>
<p>By default THEMIS will install to /usr/lib and /usr/include folder. To change prefix of target folders use parameter PREFIX:</p>
<pre><code>make install PREFIX=/opt
</code></pre>
<h3 id="directory-structure">Directory Structure</h3>
<p>After the installation, a typical directory structure would look like.</p>
<pre><code>- /usr/include/
-- soter - THEMIS header files for soter subsystem
-- themis - THEMIS header files
- /usr/lib
-- libthemis.a, libthemis.so, libsoter.a, libsoter.so - compiled libraries
</code></pre>
<h2 id="installing-themis-wrappers">Installing Themis wrappers</h2>
<p>Installing language-specific wrappers is done after you've installed the main library itself.</p>
<h3 id="python">Python</h3>
<p>Just type </p>
<pre><code>pip install pythemis
</code></pre>
<h3 id="php">PHP</h3>
<p>In Themis source directory, type:</p>
<pre><code>make phpthemis_install
</code></pre>
<p>this will build phpthemis.so extension for php. Now add </p>
<pre><code>extension=phpthemis.so
</code></pre>
<p>to php.ini.</p>
<h3 id="ruby">Ruby</h3>
<p>If Themis is already installed, type in console:</p>
<pre><code> sudo gem install rubythemis
</code></pre>
<p>To install both Themis and rubythemis wrapper, go to Themis root directory and type</p>
<pre><code>make rubythemis_install
</code></pre>
<h3 id="android">Android</h3>
<p>Themis for Android uses Gradle build system. </p>
<p>You should install latest <a href="https://gradle.org/downloads">gradle</a>, <a href="https://developer.android.com/sdk/index.html">Android SDK</a> and <a href="https://developer.android.com/tools/sdk/ndk/index.html">Android NDK</a>.</p>
<p>Next, specify paths to your SDK and NDK for gradle:</p>
<pre><code>export ANDROID_SDK=/path/to/android/sdk
export ANDROID_NDK_ROOT=/path/to/android/ndk
</code></pre>
<p>Finally, build Themis (both Java and Native part):</p>
<pre><code>gradle build
</code></pre>
<p>It will build AAR (Android library project) ready to be used in your application. If you want to use SecureSocket and SecureServerSocket classes, make sure you have declared INTERNET permission in your AndroidManifest.xml.</p>
<p>To run Android tests connect your device(s) and run (make sure ADB is enabled in settings):</p>
<pre><code>gradle connectedAndroidTest
</code></pre>
<h3 id="iososx-cocoa-pods">iOS/OSX (Cocoa Pods)</h3>
<p>To add Themis support to your XCode project just add </p>
<pre><code>pod 'themis'
</code></pre>
<p>to your Podfile and type:</p>
<pre><code>pod install
</code></pre></div>
        </div>

	<footer class="col-md-12">
		<hr>
		
		<p>(c) 2015 Cossack Labs Limited</p>
		
		<p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
	</footer>


        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
    </body>
</html>